object frmMargenBruto: TfrmMargenBruto
  Left = 810
  Top = 247
  BorderIcons = [biSystemMenu, biMinimize]
  BorderStyle = bsSingle
  Caption = 'Margen de Beneficio Bruto'
  ClientHeight = 413
  ClientWidth = 780
  Color = clBtnFace
  Font.Charset = ANSI_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'Tahoma'
  Font.Style = []
  FormStyle = fsMDIChild
  OldCreateOrder = False
  Position = poScreenCenter
  Visible = True
  OnActivate = FormActivate
  OnClose = FormClose
  OnCreate = FormCreate
  OnPaint = FormPaint
  PixelsPerInch = 96
  TextHeight = 13
  object Panel1: TPanel
    Left = 0
    Top = 0
    Width = 780
    Height = 83
    Align = alTop
    BevelInner = bvRaised
    BevelOuter = bvLowered
    TabOrder = 0
    object Label7: TLabel
      Left = 168
      Top = 8
      Width = 39
      Height = 13
      Caption = 'Gerente'
    end
    object btgerente: TSpeedButton
      Left = 275
      Top = 8
      Width = 23
      Height = 22
      Flat = True
      Glyph.Data = {
        42010000424D4201000000000000760000002800000011000000110000000100
        040000000000CC00000000000000000000001000000010000000000000000000
        BF0000BF000000BFBF00BF000000BF00BF00BFBF0000C0C0C000808080000000
        FF0000FF000000FFFF00FF000000FF00FF00FFFF0000FFFFFF00777777777777
        77777000000077777777777777777000000070000077777000007000000070B0
        00777770F0007000000070F000777770B0007000000070000000700000007000
        0000700B000000B0000070000000700F000700F0000070000000700B000700B0
        0000700000007700000000000007700000007770B00070B00077700000007770
        0000700000777000000077770007770007777000000077770B07770B07777000
        0000777700077700077770000000777777777777777770000000777777777777
        777770000000}
      OnClick = btgerenteClick
    end
    object Label4: TLabel
      Left = 168
      Top = 32
      Width = 50
      Height = 13
      Caption = 'Proveedor'
    end
    object SpeedButton1: TSpeedButton
      Left = 275
      Top = 32
      Width = 23
      Height = 22
      Flat = True
      Glyph.Data = {
        42010000424D4201000000000000760000002800000011000000110000000100
        040000000000CC00000000000000000000001000000010000000000000000000
        BF0000BF000000BFBF00BF000000BF00BF00BFBF0000C0C0C000808080000000
        FF0000FF000000FFFF00FF000000FF00FF00FFFF0000FFFFFF00777777777777
        77777000000077777777777777777000000070000077777000007000000070B0
        00777770F0007000000070F000777770B0007000000070000000700000007000
        0000700B000000B0000070000000700F000700F0000070000000700B000700B0
        0000700000007700000000000007700000007770B00070B00077700000007770
        0000700000777000000077770007770007777000000077770B07770B07777000
        0000777700077700077770000000777777777777777770000000777777777777
        777770000000}
      OnClick = SpeedButton1Click
    end
    object LB_1: TLabel
      Left = 8
      Top = 60
      Width = 40
      Height = 13
      Caption = 'Sucursal'
    end
    object spAno: TSpinEdit
      Left = 8
      Top = 8
      Width = 49
      Height = 22
      TabStop = False
      EditorEnabled = False
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      MaxValue = 3000
      MinValue = 1900
      ParentFont = False
      TabOrder = 0
      Value = 1900
    end
    object cbMes: TComboBox
      Left = 56
      Top = 8
      Width = 105
      Height = 21
      BevelKind = bkSoft
      Style = csDropDownList
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      ItemHeight = 13
      ParentFont = False
      TabOrder = 1
      TabStop = False
      Items.Strings = (
        'Enero'
        'Febrero'
        'Marzo'
        'Abril'
        'Mayo'
        'Junio'
        'Julio'
        'Agosto'
        'Septiembre'
        'Octubre'
        'Noviembre'
        'Diciembre')
    end
    object edgerente: TEdit
      Left = 224
      Top = 8
      Width = 49
      Height = 21
      BevelKind = bkFlat
      BorderStyle = bsNone
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      ParentFont = False
      TabOrder = 2
      OnChange = edgerenteChange
      OnKeyDown = edgerenteKeyDown
    end
    object tgerente: TEdit
      Left = 300
      Top = 8
      Width = 237
      Height = 21
      BevelKind = bkFlat
      BorderStyle = bsNone
      Color = clInfoBk
      Enabled = False
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = [fsBold]
      ParentFont = False
      TabOrder = 3
    end
    object edProveedor: TEdit
      Left = 224
      Top = 32
      Width = 49
      Height = 21
      BevelKind = bkFlat
      BorderStyle = bsNone
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      ParentFont = False
      TabOrder = 4
      OnChange = edProveedorChange
      OnKeyDown = edProveedorKeyDown
    end
    object tProveedor: TEdit
      Left = 300
      Top = 32
      Width = 237
      Height = 21
      BevelKind = bkFlat
      BorderStyle = bsNone
      Color = clInfoBk
      Enabled = False
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = [fsBold]
      ParentFont = False
      TabOrder = 5
    end
    object cbtipo: TComboBox
      Left = 8
      Top = 32
      Width = 153
      Height = 21
      BevelKind = bkSoft
      Style = csDropDownList
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      ItemHeight = 13
      ItemIndex = 0
      ParentFont = False
      TabOrder = 6
      TabStop = False
      Text = 'Todas'
      Items.Strings = (
        'Todas'
        'Tickets'
        'Facturas de DASHA')
    end
    object Fecha1: TDateTimePicker
      Left = 628
      Top = 8
      Width = 79
      Height = 21
      Date = 37506.000000000000000000
      Time = 37506.000000000000000000
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      ParentFont = False
      TabOrder = 7
    end
    object Fecha2: TDateTimePicker
      Left = 628
      Top = 32
      Width = 79
      Height = 21
      Date = 37506.000000000000000000
      Time = 37506.000000000000000000
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      ParentFont = False
      TabOrder = 8
    end
    object ckperiodo: TCheckBox
      Left = 544
      Top = 8
      Width = 57
      Height = 17
      Caption = 'Per'#237'odo'
      TabOrder = 9
      OnClick = ckperiodoClick
    end
    object ChkB_Itbis: TCheckBox
      Left = 542
      Top = 33
      Width = 75
      Height = 17
      Caption = 'Incluir Itbis'
      TabOrder = 10
      OnClick = ChkB_ItbisClick
    end
    object dblkcbb1: TDBLookupComboBox
      Left = 56
      Top = 56
      Width = 481
      Height = 21
      DropDownRows = 20
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Tahoma'
      Font.Style = []
      KeyField = 'suc_codigo'
      ListField = 'suc_nombre'
      ListSource = DS_Suc
      ParentFont = False
      TabOrder = 11
      OnClick = dblkcbb1Click
    end
    object ChkB_PorSucursal: TCheckBox
      Left = 542
      Top = 57
      Width = 99
      Height = 17
      Caption = 'Por Sucursal'
      TabOrder = 12
      OnClick = ChkB_PorSucursalClick
    end
  end
  object PageControl1: TPageControl
    Left = 0
    Top = 83
    Width = 780
    Height = 289
    ActivePage = ts1
    Align = alClient
    TabOrder = 1
    OnChange = PageControl1Change
    object ts1: TTabSheet
      Caption = 'Productos'
      ImageIndex = 2
      object DBGrid_1: TDBGrid
        Left = 0
        Top = 0
        Width = 772
        Height = 261
        Align = alClient
        DataSource = DS_Familia
        Options = [dgEditing, dgTitles, dgColumnResize, dgColLines, dgTabs, dgConfirmDelete, dgCancelOnExit]
        ReadOnly = True
        TabOrder = 0
        TitleFont.Charset = ANSI_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -11
        TitleFont.Name = 'Tahoma'
        TitleFont.Style = []
        OnDrawColumnCell = DBGrid1DrawColumnCell
        OnDblClick = DBGrid1DblClick
        Columns = <
          item
            Expanded = False
            FieldName = 'nombre'
            Title.Caption = 'Nombre del Producto'
            Width = 255
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_venta'
            Title.Alignment = taCenter
            Title.Caption = 'Total Venta'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_costo'
            Title.Alignment = taCenter
            Title.Caption = 'Total Costo'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_beneficio_bruto'
            Title.Alignment = taCenter
            Title.Caption = 'Benef'#237'cio Bruto'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_margen_bruto'
            Title.Alignment = taCenter
            Title.Caption = 'Margen Bruto'
            Width = 100
            Visible = True
          end>
      end
    end
    object TabSheet1: TTabSheet
      Caption = 'Familia'
      object DBGrid1: TDBGrid
        Left = 0
        Top = 0
        Width = 772
        Height = 261
        Align = alClient
        DataSource = DS_Familia
        Options = [dgEditing, dgTitles, dgColumnResize, dgColLines, dgTabs, dgConfirmDelete, dgCancelOnExit]
        ReadOnly = True
        TabOrder = 0
        TitleFont.Charset = ANSI_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -11
        TitleFont.Name = 'Tahoma'
        TitleFont.Style = []
        OnDrawColumnCell = DBGrid1DrawColumnCell
        OnDblClick = DBGrid1DblClick
        Columns = <
          item
            Expanded = False
            FieldName = 'nombre'
            Title.Caption = 'Nombre de la Familia'
            Width = 255
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_venta'
            Title.Alignment = taCenter
            Title.Caption = 'Total Venta'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_costo'
            Title.Alignment = taCenter
            Title.Caption = 'Total Costo'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_beneficio_bruto'
            Title.Alignment = taCenter
            Title.Caption = 'Benef'#237'cio Bruto'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_margen_bruto'
            Title.Alignment = taCenter
            Title.Caption = 'Margen Bruto'
            Width = 100
            Visible = True
          end>
      end
    end
    object TabSheet2: TTabSheet
      Caption = 'Departamento'
      ImageIndex = 1
      object DBGrid2: TDBGrid
        Left = 0
        Top = 0
        Width = 772
        Height = 261
        Align = alClient
        DataSource = DS_Familia
        Options = [dgEditing, dgTitles, dgColumnResize, dgColLines, dgTabs, dgConfirmDelete, dgCancelOnExit]
        ReadOnly = True
        TabOrder = 0
        TitleFont.Charset = ANSI_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -11
        TitleFont.Name = 'Tahoma'
        TitleFont.Style = []
        OnDrawColumnCell = DBGrid2DrawColumnCell
        OnDblClick = DBGrid2DblClick
        Columns = <
          item
            Expanded = False
            FieldName = 'nombre'
            Title.Caption = 'Nombre del Departamento'
            Width = 255
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_venta'
            Title.Alignment = taCenter
            Title.Caption = 'Total Venta'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_costo'
            Title.Alignment = taCenter
            Title.Caption = 'Total Costo'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_beneficio_bruto'
            Title.Alignment = taCenter
            Title.Caption = 'Benef'#237'cio Bruto'
            Width = 100
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'act_margen_bruto'
            Title.Alignment = taCenter
            Title.Caption = 'Margen Bruto'
            Width = 100
            Visible = True
          end>
      end
    end
  end
  object Panel2: TPanel
    Left = 0
    Top = 372
    Width = 780
    Height = 41
    Align = alBottom
    BevelInner = bvRaised
    BevelOuter = bvLowered
    TabOrder = 2
    DesignSize = (
      780
      41)
    object btrefresh: TBitBtn
      Left = 535
      Top = 8
      Width = 75
      Height = 25
      Anchors = [akTop, akRight]
      Caption = 'Refrescar'
      TabOrder = 0
      OnClick = btrefreshClick
    end
    object btprint: TBitBtn
      Left = 615
      Top = 8
      Width = 75
      Height = 25
      Anchors = [akTop, akRight]
      Caption = 'Imprimir'
      TabOrder = 1
      OnClick = btprintClick
      Glyph.Data = {
        E6000000424DE6000000000000007600000028000000100000000E0000000100
        0400000000007000000000000000000000001000000010000000000000000000
        8000008000000080800080000000800080008080000080808000C0C0C0000000
        FF0000FF000000FFFF00FF000000FF00FF00FFFF0000FFFFFF00333333333333
        3333330000000000003330777777777777033088888888899703308888888888
        870333000000000000333330FCCCCCCF03333330FFFFFFFF03333330FCCCCCCF
        03333330FFFFFFFF03333330FCCCCCCF03333330FFFFFFFF0333333000000000
        03333333333333333333}
    end
    object btClose: TBitBtn
      Left = 695
      Top = 8
      Width = 75
      Height = 25
      Anchors = [akTop, akRight]
      Caption = '&Salir'
      TabOrder = 2
      OnClick = btCloseClick
      Glyph.Data = {
        76010000424D7601000000000000760000002800000020000000100000000100
        04000000000000010000120B0000120B00001000000000000000000000000000
        800000800000008080008000000080008000808000007F7F7F00BFBFBF000000
        FF0000FF000000FFFF00FF000000FF00FF00FFFF0000FFFFFF00330000000000
        03333377777777777F333301BBBBBBBB033333773F3333337F3333011BBBBBBB
        0333337F73F333337F33330111BBBBBB0333337F373F33337F333301110BBBBB
        0333337F337F33337F333301110BBBBB0333337F337F33337F333301110BBBBB
        0333337F337F33337F333301110BBBBB0333337F337F33337F333301110BBBBB
        0333337F337F33337F333301110BBBBB0333337F337FF3337F33330111B0BBBB
        0333337F337733337F333301110BBBBB0333337F337F33337F333301110BBBBB
        0333337F3F7F33337F333301E10BBBBB0333337F7F7F33337F333301EE0BBBBB
        0333337F777FFFFF7F3333000000000003333377777777777333}
      NumGlyphs = 2
    end
  end
  object QFamilia: TADOStoredProc
    Connection = DM.ADOSigma
    OnCalcFields = QFamiliaCalcFields
    CommandTimeout = 120
    ProcedureName = 'pr_est_margen_bruto;1'
    Parameters = <
      item
        Name = '@RETURN_VALUE'
        DataType = ftInteger
        Direction = pdReturnValue
        Precision = 10
        Value = Null
      end
      item
        Name = '@emp'
        Attributes = [paNullable]
        DataType = ftInteger
        Precision = 10
        Value = Null
      end
      item
        Name = '@suc'
        Attributes = [paNullable]
        DataType = ftInteger
        Precision = 10
        Value = Null
      end
      item
        Name = '@ano'
        Attributes = [paNullable]
        DataType = ftInteger
        Precision = 10
        Value = Null
      end
      item
        Name = '@mes'
        Attributes = [paNullable]
        DataType = ftInteger
        Precision = 10
        Value = Null
      end
      item
        Name = '@tipo'
        Attributes = [paNullable]
        DataType = ftString
        Size = 1
        Value = Null
      end
      item
        Name = '@pormayor'
        Attributes = [paNullable]
        DataType = ftString
        Size = 5
        Value = Null
      end
      item
        Name = '@ger'
        Attributes = [paNullable]
        DataType = ftInteger
        Precision = 10
        Value = Null
      end
      item
        Name = '@prov'
        Attributes = [paNullable]
        DataType = ftInteger
        Precision = 10
        Value = Null
      end
      item
        Name = '@periodo'
        Attributes = [paNullable]
        DataType = ftString
        Size = 5
        Value = Null
      end
      item
        Name = '@fec1'
        Attributes = [paNullable]
        DataType = ftDateTime
        Value = Null
      end
      item
        Name = '@fec2'
        Attributes = [paNullable]
        DataType = ftDateTime
        Value = Null
      end
      item
        Name = '@incluyeitbis'
        Attributes = [paNullable]
        DataType = ftBoolean
        Value = Null
      end>
    Left = 136
    Top = 128
    object QFamiliatipo: TStringField
      FieldName = 'tipo'
      Size = 1
    end
    object QFamiliacodigo: TIntegerField
      FieldName = 'codigo'
    end
    object QFamilianombre: TStringField
      FieldName = 'nombre'
      Size = 60
    end
    object QFamiliaact_venta: TBCDField
      FieldName = 'act_venta'
      ReadOnly = True
      currency = True
      Precision = 19
    end
    object QFamiliaact_costo: TBCDField
      FieldName = 'act_costo'
      ReadOnly = True
      currency = True
      Precision = 19
    end
    object QFamiliaact_margen_bruto: TFloatField
      FieldKind = fkCalculated
      FieldName = 'act_margen_bruto'
      DisplayFormat = '###.00%'
      Calculated = True
    end
    object QFamiliaact_beneficio_bruto: TFloatField
      FieldKind = fkCalculated
      FieldName = 'act_beneficio_bruto'
      currency = True
      Calculated = True
    end
  end
  object DS_Familia: TDataSource
    DataSet = QFamilia
    Left = 168
    Top = 128
  end
  object Search: TQrySearchDlgADO
    AliasName = DM.ADOSigma
    Left = 312
    Top = 176
  end
  object DS_Suc: TDataSource
    DataSet = QSucursal
    Left = 168
    Top = 192
  end
  object QSucursal: TADOQuery
    Connection = DM.ADOSigma
    LockType = ltReadOnly
    DataSource = DM.dsEmpresas
    Parameters = <
      item
        Name = 'emp_codigo'
        Attributes = [paSigned]
        DataType = ftInteger
        Precision = 10
        Size = 4
        Value = Null
      end
      item
        Name = 'usu'
        Attributes = [paSigned]
        DataType = ftInteger
        Precision = 10
        Size = 4
        Value = Null
      end>
    SQL.Strings = (
      'select'
      's.suc_codigo, s.suc_nombre, s.alm_codigo, s.emp_codigo'
      'from'
      'sucursales s, sucursal_acceso a'
      'where'
      's.emp_codigo = a.emp_codigo'
      'and s.suc_codigo = a.suc_codigo'
      'and a.emp_codigo = :emp_codigo'
      'and a.usu_codigo = :usu'
      'order by s.suc_codigo')
    Left = 136
    Top = 192
    object QSucursalsuc_codigo: TIntegerField
      FieldName = 'suc_codigo'
    end
    object QSucursalsuc_nombre: TStringField
      FieldName = 'suc_nombre'
      Size = 60
    end
    object QSucursalalm_codigo: TIntegerField
      FieldName = 'alm_codigo'
    end
    object QSucursalemp_codigo: TIntegerField
      FieldName = 'emp_codigo'
    end
  end
end
